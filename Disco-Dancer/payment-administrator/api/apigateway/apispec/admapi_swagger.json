{
    "swagger": "2.0",
    "info": {
        "description": "Responsible for handling incoming payment requests and managing payment schedules.",
        "title": "GEICO Payment Platform Administrator API",
        "contact": {
            "name": "Payment Platform Dev Team",
            "email": "GPP@geico.com"
        },
        "version": "1.0"
    },
    "paths": {
        "/health/ready": {
            "get": {
                "description": "This API returns the Health Check Status of the application",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "HealthCheck"
                ],
                "summary": "HealthCheck of the application",
                "responses": {
                    "default": {
                        "description": "Health Check Results",
                        "schema": {
                            "$ref": "#/definitions/app.HealthCheckResponse"
                        }
                    }
                }
            }
        },
        "/payment": {
            "post": {
                "description": "This API accepts a request to make a payment through GEICO Payment Platform. Onboarding teams should onboard as a Tenant and setup a payment request type. Drop email to GPP@geico.com for more details",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Administrator"
                ],
                "summary": "Make Payment request to GEICO Payment Platform",
                "parameters": [
                    {
                        "description": "PaymentRequest object that needs to be processed",
                        "name": "PaymentRequest",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/app.PaymentRequest"
                        }
                    }
                ],
                "responses": {
                    "default": {
                        "description": "Status of payment request, errorDetails will be only returned in case of 4XX or 5XX error",
                        "schema": {
                            "$ref": "#/definitions/app.PaymentResponse"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "app.ErrorResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string",
                    "example": "some error happened"
                },
                "type": {
                    "type": "string",
                    "example": "error"
                }
            }
        },
        "app.HealthCheckResponse": {
            "type": "object",
            "properties": {
                "configfilename": {
                    "type": "string",
                    "example": "appsettings.dv.json"
                },
                "data": {},
                "databasestatus": {
                    "type": "string",
                    "example": "Up"
                },
                "error": {
                    "type": "boolean",
                    "example": false
                },
                "errorresponse": {
                    "$ref": "#/definitions/app.ErrorResponse"
                },
                "message": {
                    "type": "string",
                    "example": "I am alive !!"
                },
                "seceretsavailable": {
                    "type": "string",
                    "example": "yes"
                }
            }
        },
        "app.PaymentRequest": {
            "type": "object",
            "properties": {
                "accountId": {
                    "type": "string",
                    "example": "PQR123"
                },
                "callerApp": {
                    "type": "string",
                    "example": "mcp"
                },
                "metadata": {
                    "type": "string",
                    "example": "{}"
                },
                "paymentExtractionSchedule": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/models.PaymentExtractionSchedule"
                    }
                },
                "paymentFrequency": {
                    "type": "string",
                    "example": "onetime"
                },
                "paymentRequestType": {
                    "type": "string",
                    "example": "iaa"
                },
                "productIdentifier": {
                    "type": "string",
                    "example": "ALL"
                },
                "tenantRequestId": {
                    "type": "integer",
                    "example": 1234567
                },
                "tenantid": {
                    "type": "integer",
                    "example": 101
                },
                "transactionType": {
                    "type": "string",
                    "example": "payout"
                },
                "userId": {
                    "type": "string",
                    "example": "125"
                }
            }
        },
        "app.PaymentResponse": {
            "type": "object",
            "properties": {
                "errorDetails": {
                    "$ref": "#/definitions/app.ErrorResponse"
                },
                "status": {
                    "type": "string",
                    "example": "accepted"
                },
                "tenantRequestId": {
                    "type": "integer",
                    "example": 123456789
                }
            }
        },
        "models.PaymentExtractionSchedule": {
            "type": "object",
            "properties": {
                "amount": {
                    "type": "number",
                    "example": 100.21
                },
                "date": {
                    "type": "string",
                    "example": "2020-01-01"
                }
            }
        }
    }
}